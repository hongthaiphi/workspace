SELECT A1.name,A1.version,A1.lastupdate,A1.path_file,A1.module_id FROM  (SELECT m.name, CONCAT(mv.version_x,'.',mv.version_y,'.',mv.version_z)version, mv.lastupdate, mv.path_file, mv.module_id  FROM servers s, server_module sm, module m, module_version mv where s.id=sm.server_id and sm.module_id=m.id and mv.module_id = sm.module_id  and s.device_id='00:26:2d:4a:2a:d4')A1, (SELECT A.module_id,MAX(A.version)version FROM (SELECT module_id,id, concat(version_x,'.',version_y,'.',version_z) version FROM module_version)A GROUP BY A.module_id)A2 WHERE A1.module_id = A2.module_id and A1.version = A2.version;